(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6309d702"],{"65bd":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._v(" "),a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入用户名称"},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}}),t._v(" "),a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.handleFilter}},[t._v(" 搜索用户 ")]),a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-wind-power"},on:{click:t.sFilter}},[t._v(" 显示所有未打卡的用户 ")]),a("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-s-flag"},on:{click:t.dFilter}},[t._v(" 显示所有已打卡的用户 ")]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""}},[a("el-table-column",{attrs:{prop:"userName",label:"用户名称",width:"280"}}),a("el-table-column",{attrs:{prop:"punchStatus",label:"是否打卡",width:"280"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(0===e.row.punchStatus?"未打卡":1===e.row.punchStatus?"已打卡":"")+" ")]}}])}),a("el-table-column",{attrs:{prop:"punchTime",label:"打卡时间",width:"300"}}),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.handleUpdate(n)}}},[t._v(" 修改 ")]),a("el-dialog",{attrs:{visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("span",{attrs:{slot:"title"},slot:"title"},[t._v("修改打卡信息 "+t._s(t.dialogUser.userName))]),a("el-form",{attrs:{model:t.dialogUser}},[a("el-form-item",{attrs:{label:"是否打卡"}},[a("el-select",{model:{value:t.dialogUser.punchStatus,callback:function(e){t.$set(t.dialogUser,"punchStatus",e)},expression:"dialogUser.punchStatus"}},[a("el-option",{attrs:{label:"未打卡",value:0}}),a("el-option",{attrs:{label:"已打卡",value:1}})],1)],1)],1),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("退出")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.handleSave(t.dialogUser)}}},[t._v("保存")])],1)],1)]}}])})],1)],1)},i=[],l=(a("498a"),a("c740"),a("7db0"),a("d3b7"),a("b775"));function r(t){return Object(l["a"])({url:"/punch/getAllPunch",method:"get",data:t})}function o(t){return Object(l["a"])({url:"/punch/getPunchByUserName",method:"get",params:{userName:t}})}function c(t){return Object(l["a"])({url:"/punch/updatePunch",method:"get",params:{punch:t}})}function s(t){return Object(l["a"])({url:"/punch/getPunchByNoPunch",method:"get",data:t})}function u(t){return Object(l["a"])({url:"/punch/getPunchByYesPunch",method:"get",data:t})}var d={created:function(){var t=this;r().then((function(e){t.tableData=e.data.punchList}))},data:function(){return{tableData:[],title:"",dialogVisible:!1,dialogUser:{}}},methods:{handleFilter:function(){var t=this,e=this.title.trim();o(e).then((function(e){t.tableData=e.data.punchList||[]})).catch((function(e){r().then((function(e){t.tableData=e.data.punchList}))}))},handleUpdate:function(t){console.log(t);var e=this.tableData.findIndex((function(e){return e.userId===t.userId}));-1!==e&&(this.dialogVisible=!0,this.dialogUser=Object.assign({},this.tableData[e]))},handleSave:function(t){var e=this;this.tableData.find((function(e){return e.productionId===t.productionId}));c(t).then((function(t){e.dialogVisible=!1,alert("修改成功"),r().then((function(t){e.tableData=t.data.punchList}))}))},sFilter:function(){var t=this;s().then((function(e){t.tableData=e.data.punchList}))},dFilter:function(){var t=this;u().then((function(e){t.tableData=e.data.punchList}))}},mounted:function(){console.log("组件被挂载")}},h=d,f=a("2877"),p=Object(f["a"])(h,n,i,!1,null,null,null);e["default"]=p.exports},"7db0":function(t,e,a){"use strict";var n=a("23e7"),i=a("b727").find,l=a("44d2"),r=a("ae40"),o="find",c=!0,s=r(o);o in[]&&Array(1)[o]((function(){c=!1})),n({target:"Array",proto:!0,forced:c||!s},{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),l(o)},c740:function(t,e,a){"use strict";var n=a("23e7"),i=a("b727").findIndex,l=a("44d2"),r=a("ae40"),o="findIndex",c=!0,s=r(o);o in[]&&Array(1)[o]((function(){c=!1})),n({target:"Array",proto:!0,forced:c||!s},{findIndex:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),l(o)}}]);